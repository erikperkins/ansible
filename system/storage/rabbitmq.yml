- name: Pull Docker image for RabbitMQ
  tags:
    - pull-rabbitmq
    - pull-all
  docker_image:
    name: rabbitmq
    tag: 3.6.6-management

- name: Start RabbitMQ container
  tags:
    - start-rabbitmq
    - start-all
  docker_container:
    name: rabbitmq
    image: rabbitmq:3.6.6-management
    ports:
      - 5672:5672
      - 15672:15672

- name: Stop RabbitMQ container
  tags:
    - stop-rabbitmq
    - stop-all
  docker_container:
    name: rabbitmq
    state: absent
