- name: Pull Docker image for Go app
  tags:
    - pull-golang
    - pull-all
  docker_image:
    name: erikperkins/golang_app

- name: Start Go container
  tags:
    - start-golang
    - start-all
  docker_container:
    name: golang
    image: erikperkins/golang_app
    command: /golang_app/golang_app
    restart_policy: on-failure
    ports:
      - 8002:80

- name: Stop Go app container
  tags:
    - stop-golang
    - stop-all
  docker_container:
    name: golang
    state: absent
