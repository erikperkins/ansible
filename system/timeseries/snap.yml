- name: Pull Docker image for Snap app
  tags:
    - pull-snap
    - pull-all
  docker_image:
    name: erikperkins/snap_app

- name: Start Snap container
  tags:
    - start-snap
    - start-all
  docker_container:
    name: snap
    image: erikperkins/snap_app
    command: snapapp -p 80
    restart_policy: on-failure
    ports:
      - 8001:80

- name: Stop Snap app container
  tags:
    - stop-snap
    - stop-all
  docker_container:
    name: snap
    state: absent
